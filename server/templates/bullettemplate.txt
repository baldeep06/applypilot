SYSTEM INSTRUCTION: You are generating a cover letter with bullet points. Follow these rules EXACTLY.

===== ABSOLUTE RULES =====
RULE 1: TOTAL LENGTH = 250-300 WORDS MAXIMUM (must fit in 80% of one page)
RULE 2: Use simple, concise language - sound HUMAN, not AI
RULE 3: NEVER use em dashes (—)
RULE 4: Simplify role names (e.g., "Summer Technology/Developer" becomes "Summer Developer")
RULE 5: Each bullet point MUST be on ONE continuous line

===== CRITICAL BULLET FORMATTING =====
⚠️ MANDATORY: Each bullet MUST be formatted as ONE continuous line like this:
*  **Company Name (Role):** Description text continues here without line breaks.

DO NOT format like this (WRONG):
*
**Company Name (Role):** Description text here.

DO NOT add line breaks between the asterisk and the company name.
The asterisk, company name, and description must ALL be on the same line.

===== INPUT DATA =====

Job Posting:
{{JOB_TEXT}}

Resume (FOR REFERENCE):
{{RESUME_TEXT}}

===== EXACT OUTPUT FORMAT =====

{{TODAY_DATE}}

[Full name from resume]
[Phone from resume]
[Email from resume]

CRITICAL - NAME EXTRACTION VALIDATION:
⚠️ When extracting "[Full name from resume]":
✅ Extract ONLY the person's actual full name (first name + last name, optionally middle name)
✅ The name should be 2-4 words maximum (e.g., "John Smith", "Mary Jane Watson", "Aadit Shah")
✅ Verify the extracted name makes sense - it should NOT include:
  ❌ Job titles (e.g., "Software Engineer", "Intern", "Developer")
  ❌ Company names
  ❌ Role descriptions (e.g., "Co-Op", "Internship")
  ❌ Any other resume content beyond the actual name
✅ After extraction, validate: Does this look like a person's name, or did other text get accidentally included?
✅ If the name looks malformed (contains role titles, company names, or other text), re-extract using ONLY the name portion
✅ Apply role title simplification rules when generating filenames, but the signature name should be ONLY the actual name

VALIDATION CHECKPOINT:
Before using the name in the signature or filename:
□ Does it contain ONLY the person's name (2-4 words)?
□ Does it exclude job titles, company names, and role descriptions?
□ Does it make sense as a real person's name?
□ If generating a filename like "[Name] - [Company] [Position]", ensure the name portion is clean and simplified role titles are applied separately

Dear [Hiring manager name OR "Hiring Manager"],

I am excited about the opportunity to join the innovative team at [company name] as a [simplified position name]. [GENERATE_SENTENCE]

I've also developed invaluable practical skills through diverse work and project experience.

[BULLET_POINTS]

[GLAZING_PARAGRAPH]

Enclosed, please find my resume. Thank you for considering my application.

Sincerely,
[Full name]

===== GENERATE_SENTENCE INSTRUCTIONS =====
Generate ONE sentence that:
- Starts with "I am eager to leverage"
- Highlights 2-3 specific technical skills from job description that match resume
- Does NOT copy exact phrases from job description
- Does NOT use placeholders like "[Programming Language]"
- Keeps it under 25 words

Example: "I am eager to leverage my experience with React, Python, and cloud infrastructure to contribute to your mission."

===== BULLET_POINTS INSTRUCTIONS =====
Extract THREE relevant experiences/projects from the resume that align with job description.

⚠️ CRITICAL FORMAT - Each bullet MUST be ONE continuous line:
*  **Company Name (Role):** Description here continues without line breaks.

Requirements:
- Start with asterisk and two spaces: "*  "
- Bold the company/project name and role: **Company (Role):**
- Then description text
- ENTIRE bullet must be ONE line (no line breaks within the bullet)
- Each bullet: MAX 50 words
- Focus on experiences matching job requirements
- Use technologies from BOTH resume AND job description
- DO NOT copy resume text word-for-word - rephrase naturally
- DO NOT include statistics or metrics (no percentages, no numbers)
- Last bullet should be "Technical Projects:" (no specific project name in parentheses)

Example of CORRECT formatting (each is ONE line):
*  **BTNX (Software Engineering Intern):** I built full-stack web applications with React and .NET, working extensively with SQL databases and backend APIs. I developed automation tools and worked on machine learning models for product diagnostics.
*  **Government of Ontario (Software Developer Intern):** I created responsive web components and RESTful APIs using C# and .NET. I optimized database queries and improved system performance across high-traffic applications.
*  **Technical Projects:** I developed machine learning models and data pipelines using Python, scikit-learn, and Flask. These projects showcase my ability to apply AI techniques to solve real-world problems.

WRONG (bullet character on separate line - DO NOT DO THIS):
*
**Company (Role):** Description here.

===== GLAZING_PARAGRAPH INSTRUCTIONS =====
Write a 55-60 word paragraph that:
- Starts with "I am drawn by"
- Connects personal values to company's mission from job description
- Does NOT copy company's values word-for-word
- Paraphrases and aligns with personal goals
- 2-3 sentences maximum
- Does NOT describe company history

CRITICAL - PARAGRAPH FLOW:
⚠️ This paragraph must read as a COHESIVE exploration, not disconnected statements.

REQUIRED - SMOOTH STORYTELLING APPROACH:
✅ Each sentence should NATURALLY build on or connect to the previous sentence
✅ Use conversational connectors: "and," "which," "since" to create smooth flow
✅ Sentences should feel like they're exploring ONE continuous thought
✅ READ IT ALOUD TEST: Does it sound like one cohesive exploration or separate statements?

FORBIDDEN:
❌ Starting multiple sentences with "I" + verb creating a list effect
❌ Creating separate, independent sentences that don't connect
❌ Choppy transitions that make it sound like a list

===== SPACING - SINGLE BLANK LINES ONLY =====
Use EXACTLY ONE blank line between sections:
- One blank line after date
- One blank line after email
- One blank line after "Dear Hiring Manager,"
- One blank line after opening paragraph
- One blank line after "I've also developed..."
- NO blank lines between bullet points
- One blank line after bullet points
- One blank line after glazing paragraph
- One blank line before "Sincerely,"

===== EXAMPLE OUTPUT STRUCTURE =====
December 24, 2025

Aadit Shah
(647) 994-8661
aadit.shah@uwaterloo.ca

Dear Hiring Manager,

I am excited about the opportunity to join the innovative team at Capital One as a Software Engineer Intern. I am eager to leverage my experience with Java, Python, and AWS to contribute to your mission.

I've also developed invaluable practical skills through diverse work and project experience.

*  **BTNX (Software Engineering Intern):** I built full-stack web applications with React and .NET, working with SQL databases and backend APIs. I developed automation tools and machine learning models for diagnostics.
*  **Government of Ontario (Software Developer Intern):** I created responsive web components and RESTful APIs using C# and .NET. I optimized database performance across high-traffic public applications.
*  **Technical Projects:** I developed machine learning pipelines and data analysis tools using Python and Flask. These projects demonstrate my ability to apply technical skills to complex challenges.

I am drawn by Capital One's mission to innovate banking and make credit more accessible. The emphasis on teamwork and continuous learning resonates with my values, and I'm eager to contribute to a collaborative environment.

Enclosed, please find my resume. Thank you for considering my application.

Sincerely,
Aadit Shah

===== FINAL CHECKPOINT =====
Before outputting, verify:
□ Total is 250-300 words
□ Opening sentence is under 25 words
□ THREE bullet points, each starting with "*  " (asterisk + 2 spaces)
□ Each bullet is ONE continuous line (no line breaks)
□ Each bullet is MAX 50 words
□ Bullets use **bold** for company/role
□ Glazing paragraph is 55-60 words
□ EXACTLY ONE blank line between sections
□ NO statistics or metrics in bullets
□ NO line breaks within bullets
□ Uses "*" not "·" for bullets
